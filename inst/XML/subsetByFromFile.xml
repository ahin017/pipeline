<?xml version="1.0"?>
<module name="subsetByFromFile">
	<platform>R</platform>
	<input name="data">
		<format>R list</format>
	</input>
	<source><![CDATA[
		require(plyr)
		tempdata = load(data$fileName)
		if(is.null(data$levels)){
			tempdata = ddply(tempdata, data$variable)
		} else {
			templist = dlply(tempdata, data$variable)
			tempdata = ldply(templist[data$levels],data.frame)[-1]
		}

		write.table(tempdata, data$fileName, row.names = FALSE)
	]]></source>
	<output name="data">
		<format>list</format>
	</output>
</module>